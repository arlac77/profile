<?xml version="1.0" encoding="UTF-8"?>

<t:description xmlns:t="http://www.jenitennison.com/xslt/xspec"
               xmlns:xs="http://www.w3.org/2001/XMLSchema"
               xmlns:my="http://example.org/ns/my"
               query="http://example.org/ns/my"
               query-at="xspec-tested.xql"
               stylesheet="xspec-tested.xsl">
    
    <t:variable name="test-data" href="xspec-variable.xml"/>
    <t:variable name="test-3"    select="$test-data/*/test[xs:integer(@num) eq 3]"/>
    
    <t:scenario label="call global var">
        <t:call function="my:square">
            <t:param select="$test-3/@num"/>
        </t:call>
        <t:expect label="the result" test="$x:result eq $test-3/xs:integer(@value)"/>
        <t:expect label="the result" assert="$x:result eq $test-3/xs:integer(@value)"/>
    </t:scenario>
        
</t:description>
